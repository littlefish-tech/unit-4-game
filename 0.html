<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Crystal Collector!</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>

    <h1>CrystalsCollector!</h1>
    <div class="pContainer">
        <p>You ill be given a random number at the start of the games.</p>
        <p>There are four crystals below. By clicking on a crystal you will add a specific amount of points to your total score.</p>
        <p>You win the game by matching your total score to random number, you lose the game if your total score goes above the random number.</p>
        <p>The value of each crystal is hidden from you until you click on it.</p>
        <p>Each time when the fame starys, the game will change the values of each crystal.</p>
    </div>
    <div class="scoreContainer">
        <div id="computerNumber"></div>
        <div id="wlTimes">
            <div>Wins: <span id = "win-text"></span></div>
            <div>Losses: <span id = "loss-text"></span></div>
        </div>
        <span>
        </span>
    </div>
    <div id = "crystals">

    </div>
    <div class = "scoreContainersub">
        <div>
            <p class = "scoreDisplay">Your total score is:</p>
        </div>
        <div id = "totalScore">

        </div>
    </div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
        function randomIntFromInterval(min, max) { // min and max included 
  return Math.floor(Math.random() * (max - min + 1) + min);
}
        var targetNumber = randomIntFromInterval(19, 120);
        // document.getElementById("computerNumber").innerHTML= targetNumber;
        // $("#computerNumber").text(targetNumber);
        var wins = 0;
        var losses = 0;
        var counter = 0;
        var winsText = document.getElementById("win-text");
        var lossesText = document.getElementById("loss-text");
        var targetNumberText = document.getElementById("computerNumber");


        function updateDom() {
            winsText.textContent = wins;
            lossesText.textContent = losses;
            targetNumberText.textContent = targetNumber;
        }
        updateDom()
        var image = ["https://i.pinimg.com/originals/31/9b/f3/319bf39c84987e8ae901e2d6706af3d9.png", "https://i.pinimg.com/originals/cb/01/e6/cb01e6176e781fbed688fde80b422cbf.jpg", 
        "https://stylizedbay.com/wp-content/uploads/2018/03/andrew-sunarko-render1.jpg", 
        "https://i.pinimg.com/originals/52/8f/1f/528f1f0644679a7a69e32cc730609fff.jpg"];
    
        for (var i=0; i < 4; i++) {
            var imageCrystal = $("<img>");
            imageCrystal.addClass("crystalImage");
            imageCrystal.attr("src",image[i]);

            imageCrystal.attr("data-crystalvalue", randomIntFromInterval(1, 12));
            $("#crystals").append(imageCrystal);
        }
        $(".crystalImage").on("click",function() {
            var crystalValue = ($(this).attr("data-crystalvalue"));
            crystalValue = parseInt(crystalValue);
            counter += crystalValue;
            // console.log(counter);

        $("#totalScore").text("New Score: " + counter);
        
        if (counter === targetNumber) {
                // alert("You Win!");
                wins++;
                counter = 0;
                targetNumber = randomIntFromInterval(19, 120);
            }
        else if (counter >= targetNumber) {
                // alert("You Lose!!");
                losses++;
                counter = 0;
                targetNumber = randomIntFromInterval(19, 120);
            }
        
        updateDom()
        })
    </script>
</body>
</html>